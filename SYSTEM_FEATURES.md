# 外贸询盘知识图谱系统功能说明

## 系统概述

外贸询盘知识图谱系统是一个基于人工智能和知识图谱技术的智能化外贸客户管理平台。系统通过多Agent协作的邮件知识抽取、客户价值分析、需求洞察分析等核心功能，帮助外贸企业提升客户管理效率、优化产品策略、增强市场竞争力。

## 核心功能模块

### 1. 邮件知识抽取系统

#### 1.1 多Agent协作抽取
系统采用多个专门的AI Agent协作处理邮件内容：

- **客户信息抽取Agent**：识别客户姓名、公司、联系方式、地址等基础信息
- **产品需求分析Agent**：分析客户询盘的产品类型、规格要求、数量需求
- **商务条件抽取Agent**：提取价格预算、交货期、付款方式等商务条件
- **情感分析Agent**：分析客户邮件的情感倾向和购买意向强度

#### 1.2 实体识别与关系抽取
- **命名实体识别(NER)**：自动识别人名、公司名、产品名、地名等实体
- **关系抽取(RE)**：建立实体间的语义关系，如"客户-公司"、"询盘-产品"等
- **知识融合**：将抽取的信息整合到知识图谱中

#### 1.3 使用方法
```python
# API调用示例
POST /api/extraction/email
{
    "subject": "工业设备询价",
    "content": "邮件正文内容...",
    "sender": "customer@company.com",
    "timestamp": "2024-01-15T10:30:00Z"
}
```

### 2. 外贸询盘本体管理

#### 2.1 核心概念体系
系统建立了完整的外贸询盘领域本体：

- **客户(Customer)**：客户基本信息、联系方式、偏好特征
- **公司(Company)**：公司规模、行业类型、信用等级、市场地位
- **产品(Product)**：产品分类、技术规格、价格区间、市场定位
- **需求(Demand)**：需求类型、紧急程度、质量要求、价格敏感度
- **询盘事件(InquiryEvent)**：询盘时间、内容摘要、处理状态、跟进记录

#### 2.2 关系模型
- **来自(comes_from)**：询盘来自某个客户
- **隶属于(belongs_to)**：客户隶属于某个公司
- **询问(inquires_about)**：询盘询问某个产品
- **表达(expresses)**：询盘表达某种需求
- **关注(focuses_on)**：客户关注某个产品类别

#### 2.3 推理规则
- **客户价值分级**：基于询盘频率、订单价值、公司实力等因素
- **需求关联发现**：识别相关产品需求和交叉销售机会
- **市场趋势预测**：基于历史数据预测需求变化趋势

### 3. 客户价值分析系统

#### 3.1 价值评估模型
系统采用多维度客户价值评估模型：

**询盘活跃度 (40%)**
- 询盘频率：月均询盘次数
- 响应速度：客户回复邮件的平均时间
- 互动质量：询盘内容的详细程度和专业性

**产品价值度 (35%)**
- 产品单价：询盘产品的平均单价
- 订单规模：预期订单的总价值
- 产品复杂度：产品的技术复杂程度

**公司实力度 (25%)**
- 公司规模：员工数量、年营业额
- 行业地位：在行业中的知名度和影响力
- 信用记录：历史交易记录和信用评级

#### 3.2 客户分级管理
- **A级客户（80-100分）**：高价值客户，优先服务，专属客户经理
- **B级客户（60-79分）**：中等价值客户，定期跟进，重点培养
- **C级客户（0-59分）**：潜在客户，基础服务，批量管理

#### 3.3 客户画像构建

**基础信息画像**
- 地理分布：国家、地区、时区
- 行业特征：所属行业、公司规模、业务类型
- 联系偏好：偏好的沟通方式和时间

**行为画像**
- 询盘模式：询盘频率、时间规律、内容特点
- 决策特征：决策周期、决策流程、关键决策人
- 价格敏感度：对价格变化的反应程度

**需求画像**
- 产品偏好：关注的产品类别和品牌
- 质量要求：对产品质量的具体要求
- 服务期望：对售前售后服务的期望

#### 3.4 功能使用

**前端界面操作**
1. 进入"客户分析"页面
2. 选择分析维度（时间范围、地区、等级等）
3. 查看客户价值分布图表
4. 点击具体客户查看详细画像
5. 导出分析报告

**API接口调用**
```python
# 获取客户价值指标
GET /api/analytics/customers/{customer_id}/metrics

# 批量计算客户价值
POST /api/analytics/customers/batch-metrics
{
    "customer_ids": ["cust_001", "cust_002"],
    "date_range": {
        "from": "2024-01-01",
        "to": "2024-01-31"
    }
}

# 获取客户画像
GET /api/analytics/customers/{customer_id}/profile
```

### 4. 需求洞察分析系统

#### 4.1 需求趋势分析

**热门需求识别**
- 基于询盘频率识别当前热门产品需求
- 分析需求增长率和市场潜力
- 预测未来需求趋势变化

**需求变化趋势**
- 时间序列分析：按月/季度分析需求变化
- 季节性模式：识别需求的季节性规律
- 突发性需求：检测异常需求波动

**地域需求差异**
- 不同地区的需求偏好分析
- 区域市场特征识别
- 地域扩张机会评估

#### 4.2 产品优化建议

**市场缺口分析**
- 识别市场上缺少的产品类型
- 分析竞争对手产品覆盖情况
- 发现产品创新机会

**产品改进建议**
- 基于客户反馈的产品改进点
- 技术升级建议
- 价格策略优化

**新产品开发方向**
- 基于需求趋势的新产品建议
- 市场容量评估
- 投资回报预测

#### 4.3 需求关联分析

**共现模式发现**
- 识别经常一起询盘的产品组合
- 分析产品间的关联强度
- 发现交叉销售机会

**依赖关系分析**
- 分析产品间的依赖关系
- 识别核心产品和配套产品
- 优化产品组合策略

**需求演进路径**
- 分析客户需求的演进模式
- 预测客户未来可能的需求
- 制定长期客户发展策略

#### 4.4 使用指南

**需求趋势查看**
1. 进入"需求洞察"页面
2. 选择"需求趋势分析"选项卡
3. 设置分析参数（时间范围、产品类别、地区）
4. 查看趋势图表和热门需求排行
5. 点击具体需求查看详细分析

**产品优化建议**
1. 选择"产品优化建议"选项卡
2. 选择要分析的产品类别
3. 查看优化建议列表
4. 点击查看具体建议的详细说明
5. 导出优化建议报告

### 5. 智能问答和推荐系统

#### 5.1 自然语言查询

**支持的查询类型**
- 客户相关："哪些客户对XX产品最感兴趣？"
- 产品相关："最近3个月询盘最多的产品是什么？"
- 地区相关："欧洲客户主要关注哪些产品？"
- 趋势相关："工业设备的需求趋势如何？"
- 分析相关："A级客户有什么共同特征？"

**查询处理流程**
1. 意图识别：分析用户查询的意图类型
2. 实体抽取：提取查询中的关键实体
3. 查询转换：将自然语言转换为数据库查询
4. 结果生成：执行查询并生成结构化结果
5. 答案组织：将结果组织成自然语言回答

#### 5.2 智能推荐引擎

**客户推荐**
- 为特定产品推荐潜在客户
- 基于相似客户行为模式
- 考虑地域和行业匹配度
- 评估客户转化概率

**产品推荐**
- 为客户推荐相关产品
- 基于历史询盘记录
- 考虑产品关联性
- 分析交叉销售机会

**营销策略推荐**
- 基于客户画像推荐营销策略
- 个性化服务方案建议
- 沟通策略优化建议
- 价格策略建议

#### 5.3 自动化客户服务

**邮件自动分类**
- 自动识别邮件类型（询盘、投诉、咨询等）
- 设置处理优先级
- 自动分配给相应的处理人员

**自动回复生成**
- 基于邮件内容生成回复模板
- 个性化回复内容
- 多语言支持
- 回复质量评估

**跟进提醒管理**
- 自动识别需要跟进的客户
- 设置跟进提醒时间
- 生成跟进任务列表
- 跟进效果追踪

#### 5.4 操作指南

**智能问答使用**
1. 进入"智能推荐"页面
2. 在查询框中输入自然语言问题
3. 点击"查询"按钮或按回车键
4. 查看查询结果和相关建议
5. 可以基于结果进行进一步查询

**推荐功能使用**
1. 选择推荐类型（客户/产品/策略）
2. 输入相关参数（产品名称/客户ID等）
3. 设置推荐数量和筛选条件
4. 查看推荐结果和推荐理由
5. 对推荐结果进行评价和反馈

### 6. 客户管理系统

#### 6.1 客户信息管理

**基础信息维护**
- 客户基本信息录入和更新
- 联系方式管理
- 公司信息维护
- 标签分类管理

**客户状态跟踪**
- 客户生命周期管理
- 状态变更记录
- 重要事件标记
- 客户活跃度监控

#### 6.2 询盘记录管理

**询盘历史查看**
- 按时间顺序查看客户询盘记录
- 询盘内容详情展示
- 处理状态跟踪
- 回复记录管理

**询盘统计分析**
- 询盘频率统计
- 产品偏好分析
- 转化率计算
- 价值贡献评估

#### 6.3 客户互动管理

**沟通记录**
- 邮件往来记录
- 电话沟通记录
- 会议纪要管理
- 重要决策记录

**任务提醒**
- 跟进任务设置
- 重要日期提醒
- 任务完成状态跟踪
- 团队协作管理

### 7. 数据可视化和报表

#### 7.1 仪表板展示

**客户概览仪表板**
- 客户总数和分布
- 客户等级分布饼图
- 地区分布地图
- 活跃度趋势图

**需求分析仪表板**
- 热门产品排行榜
- 需求趋势折线图
- 地区需求热力图
- 季节性需求分析

**业务绩效仪表板**
- 询盘转化漏斗图
- 客户价值分布
- 业务增长趋势
- 关键指标监控

#### 7.2 报表生成

**定期报表**
- 月度客户分析报告
- 季度需求趋势报告
- 年度业务总结报告
- 自定义周期报表

**专项分析报表**
- 客户价值分析报告
- 产品需求分析报告
- 市场机会分析报告
- 竞争对手分析报告

#### 7.3 数据导出

**支持格式**
- Excel表格导出
- PDF报告导出
- CSV数据导出
- 图表图片导出

**导出内容**
- 客户列表和详细信息
- 询盘记录和统计数据
- 分析结果和图表
- 自定义数据集

## 系统集成和API

### 8.1 RESTful API接口

**客户管理API**
```
GET    /api/customers              # 获取客户列表
POST   /api/customers              # 创建新客户
GET    /api/customers/{id}         # 获取客户详情
PUT    /api/customers/{id}         # 更新客户信息
DELETE /api/customers/{id}         # 删除客户
GET    /api/customers/stats        # 获取客户统计
```

**分析服务API**
```
GET    /api/analytics/customers           # 客户分析数据
GET    /api/analytics/demands/trends      # 需求趋势分析
POST   /api/analytics/query               # 自然语言查询
GET    /api/analytics/recommendations     # 获取推荐结果
POST   /api/analytics/automation          # 自动化服务
```

### 8.2 数据导入导出

**支持的数据格式**
- CSV文件导入导出
- Excel文件导入导出
- JSON格式数据交换
- XML格式数据交换

**批量操作**
- 批量客户信息导入
- 批量询盘记录导入
- 批量数据更新
- 批量数据清理

### 8.3 第三方系统集成

**CRM系统集成**
- 客户数据同步
- 销售机会管理
- 业务流程对接
- 数据一致性保证

**邮件系统集成**
- 邮件自动抓取
- 邮件内容分析
- 自动回复发送
- 邮件归档管理

**ERP系统集成**
- 产品信息同步
- 库存状态查询
- 订单状态跟踪
- 财务数据对接

## 使用最佳实践

### 9.1 数据质量管理

**数据录入规范**
- 统一数据格式标准
- 必填字段完整性检查
- 数据有效性验证
- 重复数据识别和清理

**数据维护策略**
- 定期数据质量检查
- 过期数据清理
- 数据备份和恢复
- 数据安全保护

### 9.2 用户权限管理

**角色定义**
- 系统管理员：完整系统权限
- 业务经理：客户和分析数据查看
- 销售人员：分配客户的管理权限
- 数据分析师：分析功能和报表权限

**权限控制**
- 数据访问权限控制
- 功能模块权限分配
- 操作日志记录
- 敏感数据保护

### 9.3 系统优化建议

**性能优化**
- 定期清理历史数据
- 优化数据库索引
- 合理设置缓存策略
- 监控系统资源使用

**用户体验优化**
- 界面操作流程优化
- 响应速度提升
- 错误提示友好化
- 帮助文档完善

## 技术支持和培训

### 10.1 用户培训

**基础操作培训**
- 系统登录和界面介绍
- 客户信息管理操作
- 基础查询和筛选
- 报表查看和导出

**高级功能培训**
- 智能分析功能使用
- 自然语言查询技巧
- 推荐系统使用方法
- 自动化功能配置

### 10.2 技术支持

**常见问题解答**
- 系统使用常见问题
- 数据导入导出问题
- 性能和稳定性问题
- 集成和定制问题

**支持渠道**
- 在线帮助文档
- 技术支持邮箱
- 电话技术支持
- 远程协助服务

---

本功能说明文档详细介绍了外贸询盘知识图谱系统的各项功能和使用方法。如需了解更多技术细节或获得使用支持，请参考相关技术文档或联系技术支持团队。