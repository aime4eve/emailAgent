## æ–°å¢éœ€æ±‚
ç³»ç»Ÿæ¥æ”¶åˆ°é‚®ä»¶åï¼Œè§£æé‚®ä»¶é™„ä»¶ï¼Œé€šè¿‡æŒ‡å®šçš„çŸ¥è¯†æœ¬ä½“è§£æé™„ä»¶æ–‡æ¡£ä¸­èŠ‚ç‚¹ã€è¾¹å’Œå±æ€§ã€‚

## ğŸ” åˆ†æç»“æœ
ç»“è®ºï¼šå½“å‰ç”¨æˆ·æ—…ç¨‹ä¸­ç¼ºå°‘"é€šè¿‡æŒ‡å®šçŸ¥è¯†æœ¬ä½“è§£æé™„ä»¶æ–‡æ¡£"çš„å®Œæ•´åœºæ™¯ ã€‚

### ğŸ“Š ç°çŠ¶åˆ†æï¼š
| åŠŸèƒ½æ¨¡å— | ç°æœ‰è¦†ç›– | ç¼ºå¤±æƒ…å†µ |
| -------- | -------- | -------- |
| ç³»ç»Ÿæ¥æ”¶é‚®ä»¶ | âœ… å·²è¦†ç›– | - |
| è§£æé™„ä»¶ | âœ… åŸºç¡€è§£æï¼ˆæå–é™„ä»¶ä¿¡æ¯ï¼‰ | âŒ æ·±åº¦å†…å®¹è§£æ |
| çŸ¥è¯†æœ¬ä½“åº”ç”¨ | âŒ æœªä½“ç° | ç¼ºå°‘æŒ‡å®šæœ¬ä½“ç»“æ„è§£æ |
| èŠ‚ç‚¹/è¾¹/å±æ€§æå– | âŒ ä¸å®Œæ•´ | ç¼ºå°‘åŸºäºæœ¬ä½“çš„ç»“æ„åŒ–æå– |

### ğŸ¯ å…·ä½“ç¼ºå¤±ï¼š
1. 1. é™„ä»¶æ–‡æ¡£å†…å®¹è§£æ ï¼šç°æœ‰ç”¨æˆ·æ•…äº‹3åªæåˆ°"æå–é™„ä»¶ä¿¡æ¯"ï¼Œä½†æœªæ¶‰åŠæ–‡æ¡£å†…å®¹çš„æ·±åº¦è§£æ
2. 2. çŸ¥è¯†æœ¬ä½“æŒ‡å¯¼è§£æ ï¼šç¼ºå°‘"æ ¹æ®é¢„å®šä¹‰çŸ¥è¯†æœ¬ä½“ç»“æ„æ¥è§£æé™„ä»¶æ–‡æ¡£"çš„è¿‡ç¨‹
3. 3. ç»“æ„åŒ–æå– ï¼šç¼ºå°‘åŸºäºæœ¬ä½“å®šä¹‰çš„è§„åˆ™æ¥æå–èŠ‚ç‚¹ã€è¾¹å’Œå±æ€§
### ğŸ’¡ éœ€è¦è¡¥å……çš„åœºæ™¯ï¼š
- ç³»ç»Ÿæ¥æ”¶å¸¦é™„ä»¶çš„é‚®ä»¶åï¼Œè¯†åˆ«é™„ä»¶ç±»å‹ï¼ˆPDFã€Wordã€Excelç­‰ï¼‰
- æ ¹æ®æŒ‡å®šçš„çŸ¥è¯†æœ¬ä½“ç»“æ„è§£ææ–‡æ¡£å†…å®¹
- æŒ‰æœ¬ä½“å®šä¹‰çš„å®ä½“ç±»å‹æå–èŠ‚ç‚¹
- æŒ‰æœ¬ä½“å®šä¹‰çš„å…³ç³»ç±»å‹å»ºç«‹è¾¹
- æŒ‰æœ¬ä½“å®šä¹‰çš„å±æ€§è§„èŒƒæå–å±æ€§å€¼
å½“å‰ç”¨æˆ·æ—…ç¨‹ä¸»è¦å…³æ³¨é‚®ä»¶æœ¬èº«çš„å…ƒæ•°æ®è§£æï¼Œè€Œéé™„ä»¶æ–‡æ¡£çš„å†…å®¹ç»“æ„åŒ–è§£æã€‚

---

## ğŸ“‹ å®æ–½è§„åˆ’æ–¹æ¡ˆ

åŸºäºç°æœ‰æ¶æ„è®¾è®¡ï¼Œé’ˆå¯¹"é€šè¿‡æŒ‡å®šçŸ¥è¯†æœ¬ä½“è§£æé™„ä»¶æ–‡æ¡£"çš„æ–°å¢éœ€æ±‚ï¼Œæä¾›ä¸¤ç§æ¶æ„çš„å®æ–½è§„åˆ’ï¼š

### ğŸ—ï¸ MVCå•ä½“æ¶æ„å®æ–½æ–¹æ¡ˆ

#### 1. æ¶æ„æ‰©å±•è®¾è®¡
åŸºäºã€Šç³»ç»Ÿæ¦‚è¦è®¾è®¡_Java_MVCå•ä½“ç‰ˆ.mdã€‹çš„ç°æœ‰æ¶æ„ï¼Œæ–°å¢**é™„ä»¶æ–‡æ¡£è§£ææ¨¡å—**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ–°å¢ï¼šé™„ä»¶æ–‡æ¡£è§£æå±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  æ–‡æ¡£è§£ææœåŠ¡å±‚     â”‚  â”‚  æœ¬ä½“æ˜ å°„æœåŠ¡å±‚      â”‚              â”‚
â”‚  â”‚  - PDFè§£æå™¨       â”‚  â”‚  - æœ¬ä½“è§„åˆ™å¼•æ“      â”‚              â”‚
â”‚  â”‚  - Wordè§£æå™¨      â”‚  â”‚  - å®ä½“æ˜ å°„å™¨        â”‚              â”‚
â”‚  â”‚  - Excelè§£æå™¨     â”‚  â”‚  - å…³ç³»æ„å»ºå™¨        â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. æ ¸å¿ƒç»„ä»¶è®¾è®¡

##### 2.1 æ–°å¢æ•°æ®æ¨¡å‹
```java
// æ–‡æ¡£è§£æç»“æœæ¨¡å‹
public class DocumentParseResult {
    private String documentId;
    private String fileName;
    private String fileType;  // PDF/DOCX/XLSX
    private List<ExtractedEntity> entities;
    private List<ExtractedRelation> relations;
    private Map<String, Object> metadata;
    private OntologyMappingResult ontologyMapping;
    private LocalDateTime parsedAt;
}

// æœ¬ä½“æ˜ å°„é…ç½®æ¨¡å‹
public class OntologyMappingConfig {
    private String ontologyId;
    private Map<String, String> entityTypeMapping;  // æ–‡æ¡£å®ä½“ç±»å‹ -> æœ¬ä½“ç±»
    private Map<String, String> relationTypeMapping;  // æ–‡æ¡£å…³ç³» -> æœ¬ä½“å±æ€§
    private List<PropertyMappingRule> propertyRules;
}
```

##### 2.2 æœåŠ¡å±‚æ‰©å±•
```java
// æ–‡æ¡£è§£ææœåŠ¡
@Service
public class DocumentParsingService {
    @Autowired
    private List<DocumentParser> parsers;  // ç­–ç•¥æ¨¡å¼
    
    @Autowired
    private OntologyMappingService mappingService;
    
    public DocumentParseResult parseDocument(MultipartFile file, String ontologyId) {
        DocumentParser parser = selectParser(file.getContentType());
        ParseResult rawResult = parser.parse(file);
        return mappingService.mapToOntology(rawResult, ontologyId);
    }
}

// æœ¬ä½“æ˜ å°„æœåŠ¡
@Service
public class OntologyMappingService {
    public KnowledgeGraph buildKnowledgeGraph(DocumentParseResult result) {
        // åŸºäºæœ¬ä½“è§„åˆ™æ„å»ºçŸ¥è¯†å›¾è°±
        return knowledgeGraphBuilder.build(result);
    }
}
```

##### 2.3 æ§åˆ¶å™¨æ‰©å±•
```java
@RestController
@RequestMapping("/api/documents")
public class DocumentController {
    
    @PostMapping("/parse")
    public ResponseEntity<ParseResponse> parseDocument(
            @RequestParam("file") MultipartFile file,
            @RequestParam("ontologyId") String ontologyId) {
        
        DocumentParseResult result = parsingService.parseDocument(file, ontologyId);
        KnowledgeGraph graph = mappingService.buildKnowledgeGraph(result);
        
        return ResponseEntity.ok(new ParseResponse(graph, result));
    }
}
```

#### 3. æŠ€æœ¯å®ç°ç»†èŠ‚

##### 3.1 æ–‡æ¡£è§£æå™¨å®ç°
```java
@Component
public class PDFDocumentParser implements DocumentParser {
    
    @Override
    public ParseResult parse(InputStream inputStream) {
        // ä½¿ç”¨Apache PDFBoxè§£æPDF
        PDDocument document = PDDocument.load(inputStream);
        
        // æå–æ–‡æœ¬å’Œç»“æ„
        PDFTextStripper stripper = new PDFTextStripper();
        String text = stripper.getText(document);
        
        // å®ä½“è¯†åˆ«å’Œå…³ç³»æå–
        return extractEntitiesAndRelations(text);
    }
}

@Component
public class WordDocumentParser implements DocumentParser {
    
    @Override
    public ParseResult parse(InputStream inputStream) {
        // ä½¿ç”¨Apache POIè§£æWordæ–‡æ¡£
        XWPFDocument doc = new XWPFDocument(inputStream);
        return parseWordContent(doc);
    }
}
```

##### 3.2 æœ¬ä½“è§„åˆ™å¼•æ“
```java
@Component
public class OntologyRuleEngine {
    
    public List<KnowledgeTriple> applyRules(
            List<ExtractedEntity> entities, 
            OntologyMappingConfig config) {
        
        return entities.stream()
            .map(entity -> applyEntityRules(entity, config))
            .filter(Objects::nonNull)
            .collect(Collectors.toList());
    }
    
    private KnowledgeTriple applyEntityRules(
            ExtractedEntity entity, 
            OntologyMappingConfig config) {
        // æ ¹æ®æœ¬ä½“è§„åˆ™åˆ›å»ºçŸ¥è¯†ä¸‰å…ƒç»„
        String subject = entity.getId();
        String predicate = config.getRelationTypeMapping(entity.getType());
        String object = entity.getNormalizedValue();
        
        return new KnowledgeTriple(subject, predicate, object);
    }
}
```

#### 4. æ•°æ®æµè®¾è®¡
```mermaid
sequenceDiagram
    participant C as Controller
    participant PS as ParsingService
    participant P as Parser
    participant MS as MappingService
    participant KG as KnowledgeGraphService
    
    C->>PS: ä¸Šä¼ æ–‡æ¡£ + æœ¬ä½“ID
    PS->>P: é€‰æ‹©è§£æå™¨
    P->>P: è§£ææ–‡æ¡£å†…å®¹
    P-->>PS: åŸå§‹è§£æç»“æœ
    PS->>MS: åº”ç”¨æœ¬ä½“æ˜ å°„
    MS->>MS: æ‰§è¡Œæ˜ å°„è§„åˆ™
    MS-->>PS: æ˜ å°„ç»“æœ
    PS->>KG: æ„å»ºçŸ¥è¯†å›¾è°±
    KG-->>C: è¿”å›å›¾è°±æ•°æ®
```

#### 5. éƒ¨ç½²é…ç½®
```yaml
# application.yml æ–°å¢é…ç½®
spring:
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

document:
  parsing:
    max-concurrent: 5
    timeout: 300s
    supported-formats: ["pdf", "docx", "xlsx", "txt"]
    
  ontology:
    mapping:
      cache-enabled: true
      cache-ttl: 3600s
```

---

### ğŸ—ï¸ DDDå¾®æœåŠ¡æ¶æ„å®æ–½æ–¹æ¡ˆ

#### 1. é¢†åŸŸå»ºæ¨¡ä¸å¾®æœåŠ¡æ‹†åˆ†

##### 1.1 æ–°å¢ä¸šåŠ¡åŸŸè¯†åˆ«
åŸºäºã€Šç³»ç»Ÿæ¦‚è¦è®¾è®¡_Java_DDDå¾®æœåŠ¡ç‰ˆ.mdã€‹ï¼Œæ–°å¢**æ–‡æ¡£è§£æåŸŸ**ä½œä¸ºç‹¬ç«‹å¾®æœåŠ¡ï¼š

```
æ–°å¢å¾®æœåŠ¡ï¼šdocument-parser-service
â”œâ”€â”€ domain/                    # æ–‡æ¡£è§£æé¢†åŸŸ
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ Document.java       # æ–‡æ¡£èšåˆæ ¹
â”‚   â”‚   â”œâ”€â”€ ParseJob.java       # è§£æä½œä¸šå®ä½“
â”‚   â”‚   â”œâ”€â”€ ExtractedEntity.java # æå–å®ä½“å€¼å¯¹è±¡
â”‚   â”‚   â””â”€â”€ ParseResult.java    # è§£æç»“æœå€¼å¯¹è±¡
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ DocumentParsingService.java
â”‚   â”‚   â””â”€â”€ OntologyMappingService.java
â”‚   â””â”€â”€ repository/
â”‚       â””â”€â”€ DocumentRepository.java

æ–°å¢å¾®æœåŠ¡ï¼šontology-mapping-service
â”œâ”€â”€ domain/                     # æœ¬ä½“æ˜ å°„é¢†åŸŸ
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ MappingRule.java   # æ˜ å°„è§„åˆ™èšåˆæ ¹
â”‚   â”‚   â”œâ”€â”€ OntologyClass.java # æœ¬ä½“ç±»å€¼å¯¹è±¡
â”‚   â”‚   â””â”€â”€ MappingResult.java # æ˜ å°„ç»“æœå€¼å¯¹è±¡
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ OntologyMappingEngine.java
â”‚   â””â”€â”€ repository/
â”‚       â””â”€â”€ MappingRuleRepository.java
```

#### 2. é¢†åŸŸäº‹ä»¶è®¾è®¡

##### 2.1 æ ¸å¿ƒé¢†åŸŸäº‹ä»¶
```java
// æ–‡æ¡£è§£æå®Œæˆäº‹ä»¶
public class DocumentParsedEvent {
    private final String documentId;
    private final String parseJobId;
    private final ParseResult result;
    private final String ontologyId;
    private final Instant occurredOn;
}

// æœ¬ä½“æ˜ å°„å®Œæˆäº‹ä»¶
public class OntologyMappingCompletedEvent {
    private final String mappingId;
    private final String documentId;
    private final KnowledgeGraphFragment graphFragment;
    private final List<MappingConflict> conflicts;
}

// çŸ¥è¯†å›¾è°±æ›´æ–°äº‹ä»¶
public class KnowledgeGraphUpdatedEvent {
    private final String graphId;
    private final KnowledgeGraphFragment fragment;
    private final String sourceDocumentId;
    private final UpdateType updateType;
}
```

#### 3. å¾®æœåŠ¡é—´é€šä¿¡è®¾è®¡

##### 3.1 äº‹ä»¶é©±åŠ¨æ¶æ„
```mermaid
graph TD
    A[é‚®ä»¶å¤„ç†æœåŠ¡] -->|DocumentReceivedEvent| B[æ–‡æ¡£è§£ææœåŠ¡]
    B -->|DocumentParsedEvent| C[æœ¬ä½“æ˜ å°„æœåŠ¡]
    C -->|OntologyMappingCompletedEvent| D[çŸ¥è¯†å›¾è°±æœåŠ¡]
    D -->|KnowledgeGraphUpdatedEvent| E[é€šçŸ¥æœåŠ¡]
    E -->|NotificationSentEvent| F[WebSocketæ¨é€]
```

##### 3.2 å¾®æœåŠ¡APIè®¾è®¡

###### 3.2.1 æ–‡æ¡£è§£ææœåŠ¡API
```java
// REST API
@RestController
@RequestMapping("/api/v1/documents")
public class DocumentParseController {
    
    @PostMapping("/parse-async")
    public ResponseEntity<ParseJobResponse> submitParseJob(
            @RequestBody SubmitParseRequest request) {
        
        ParseJob job = parseApplicationService.submitParseJob(
            request.getDocumentId(), 
            request.getOntologyId()
        );
        
        return ResponseEntity.accepted()
            .body(new ParseJobResponse(job.getId(), job.getStatus()));
    }
    
    @GetMapping("/jobs/{jobId}/status")
    public ResponseEntity<JobStatusResponse> getJobStatus(@PathVariable String jobId) {
        return ResponseEntity.ok(queryService.getJobStatus(jobId));
    }
}

// äº‹ä»¶ç›‘å¬å™¨
@Component
public class EmailReceivedEventHandler {
    
    @EventHandler
    public void handle(EmailReceivedEvent event) {
        List<String> attachmentIds = event.getAttachmentIds();
        
        attachmentIds.forEach(attachmentId -> {
            ParseJob job = parseApplicationService.createParseJob(
                attachmentId,
                event.getConfiguredOntologyId()
            );
            
            eventPublisher.publishEvent(
                new ParseJobCreatedEvent(job.getId(), attachmentId)
            );
        });
    }
}
```

###### 3.2.2 æœ¬ä½“æ˜ å°„æœåŠ¡API
```java
@Service
public class OntologyMappingApplicationService {
    
    public void handleDocumentParsed(DocumentParsedEvent event) {
        MappingContext context = createMappingContext(
            event.getOntologyId(), 
            event.getResult()
        );
        
        MappingResult result = mappingEngine.applyMapping(context);
        
        eventPublisher.publishEvent(
            new OntologyMappingCompletedEvent(
                result.getMappingId(),
                event.getDocumentId(),
                result.getGraphFragment(),
                result.getConflicts()
            )
        );
    }
    
    private MappingContext createMappingContext(String ontologyId, ParseResult parseResult) {
        Ontology ontology = ontologyRepository.findById(ontologyId);
        return new MappingContext(ontology, parseResult);
    }
}
```

#### 4. æ•°æ®ä¸€è‡´æ€§ä¿è¯

##### 4.1 Sagaäº‹åŠ¡ç®¡ç†
```java
@Configuration
public class DocumentParsingSaga {
    
    @Saga
    @StartSaga
    @SagaEventHandler(associationProperty = "documentId")
    public void handle(DocumentReceivedEvent event) {
        SagaLifecycle.associateWith("parseJobId", event.getParseJobId());
        
        // æ­¥éª¤1ï¼šæäº¤è§£æä½œä¸š
        commandGateway.send(new SubmitParseCommand(event.getDocumentId()));
    }
    
    @SagaEventHandler(associationProperty = "parseJobId")
    public void handle(ParseJobCompletedEvent event) {
        // æ­¥éª¤2ï¼šæäº¤æ˜ å°„ä½œä¸š
        commandGateway.send(new SubmitMappingCommand(
            event.getDocumentId(),
            event.getParseResult()
        ));
    }
    
    @SagaEventHandler(associationProperty = "mappingId")
    public void handle(MappingCompletedEvent event) {
        // æ­¥éª¤3ï¼šæ›´æ–°çŸ¥è¯†å›¾è°±
        commandGateway.send(new UpdateKnowledgeGraphCommand(
            event.getGraphFragment()
        ));
        
        SagaLifecycle.end();
    }
    
    @SagaEventHandler(associationProperty = "documentId")
    public void handle(ParseJobFailedEvent event) {
        // è¡¥å¿äº‹åŠ¡ï¼šè®°å½•å¤±è´¥ï¼Œé€šçŸ¥ç”¨æˆ·
        commandGateway.send(new NotifyFailureCommand(event.getDocumentId()));
        SagaLifecycle.end();
    }
}
```

#### 5. æŠ€æœ¯æ ˆæ‰©å±•

##### 5.1 æ–°å¢å¾®æœåŠ¡æŠ€æœ¯æ ˆ
```yaml
# document-parser-service é…ç½®
spring:
  application:
    name: document-parser-service
  
  cloud:
    stream:
      bindings:
        document-received-in:
          destination: document-events
          group: document-parser
        parse-completed-out:
          destination: parse-events

# æ–‡æ¡£è§£æé…ç½®
parser:
  pdf:
    engine: apache-pdfbox
    ocr-enabled: true
  word:
    engine: apache-poi
  excel:
    engine: apache-poi
  
  max-file-size: 50MB
  concurrent-jobs: 10
  retry-policy:
    max-attempts: 3
    backoff-delay: 5000ms

# æœ¬ä½“æ˜ å°„æœåŠ¡é…ç½®
ontology:
  mapping:
    cache:
      type: redis
      ttl: 3600s
    rule-engine:
      type: drools
      hot-reload: true
```

##### 5.2 å®¹å™¨åŒ–é…ç½®
```dockerfile
# document-parser-service Dockerfile
FROM openjdk:17-jre-slim

WORKDIR /app

COPY target/document-parser-service.jar app.jar

# å®‰è£…æ–‡æ¡£è§£æä¾èµ–
RUN apt-get update && apt-get install -y \
    tesseract-ocr \
    libtesseract-dev \
    && rm -rf /var/lib/apt/lists/*

EXPOSE 8083

ENTRYPOINT ["java", "-jar", "app.jar"]
```

#### 6. ç›‘æ§ä¸è¿ç»´

##### 6.1 å¾®æœåŠ¡ç›‘æ§æŒ‡æ ‡
```java
@Component
public class DocumentParsingMetrics {
    
    private final MeterRegistry registry;
    
    public void recordParseJob(String fileType, boolean success, long duration) {
        registry.counter("document.parse.jobs", 
            "type", fileType,
            "status", success ? "success" : "failure"
        ).increment();
        
        registry.timer("document.parse.duration", "type", fileType)
            .record(duration, TimeUnit.MILLISECONDS);
    }
    
    public void recordMappingJob(String ontologyId, int entityCount) {
        registry.gauge("document.mapping.entities", 
            List.of(Tag.of("ontology", ontologyId)),
            entityCount
        );
    }
}
```

##### 6.2 å¥åº·æ£€æŸ¥ç«¯ç‚¹
```java
@Component
public class DocumentParserHealthIndicator implements HealthIndicator {
    
    @Override
    public Health health() {
        Health.Builder builder = new Health.Builder();
        
        try {
            // æ£€æŸ¥è§£æå¼•æ“çŠ¶æ€
            boolean pdfParserHealthy = checkPdfParser();
            boolean wordParserHealthy = checkWordParser();
            
            if (pdfParserHealthy && wordParserHealthy) {
                builder.up()
                    .withDetail("pdf-parser", "healthy")
                    .withDetail("word-parser", "healthy");
            } else {
                builder.down()
                    .withDetail("pdf-parser", pdfParserHealthy)
                    .withDetail("word-parser", wordParserHealthy);
            }
        } catch (Exception e) {
            builder.down().withException(e);
        }
        
        return builder.build();
    }
}
```

---
### ğŸ“‹ å®Œæˆå†…å®¹æ€»ç»“
#### âœ… MVCå•ä½“æ¶æ„å®æ–½æ–¹æ¡ˆ
- æ¶æ„æ‰©å±• ï¼šåœ¨ç°æœ‰MVCæ¶æ„åŸºç¡€ä¸Šæ–°å¢æ–‡æ¡£è§£æå±‚å’Œæœ¬ä½“æ˜ å°„å±‚
- æ ¸å¿ƒç»„ä»¶ ï¼šåŒ…å«å®Œæ•´çš„Javaä»£ç ç¤ºä¾‹ï¼Œæ¶µç›–æ•°æ®æ¨¡å‹ã€æœåŠ¡å±‚ã€æ§åˆ¶å™¨
- æŠ€æœ¯å®ç° ï¼šæä¾›äº†PDFã€Wordã€Excelç­‰æ–‡æ¡£è§£æå™¨çš„å…·ä½“å®ç°æ–¹æ¡ˆ
- éƒ¨ç½²é…ç½® ï¼šåŒ…å«Spring Booté…ç½®å’Œæ€§èƒ½å‚æ•°è®¾ç½®
#### âœ… DDDå¾®æœåŠ¡æ¶æ„å®æ–½æ–¹æ¡ˆ
- é¢†åŸŸå»ºæ¨¡ ï¼šæ–°å¢document-parser-serviceå’Œontology-mapping-serviceä¸¤ä¸ªå¾®æœåŠ¡
- äº‹ä»¶é©±åŠ¨ ï¼šè®¾è®¡äº†å®Œæ•´çš„é¢†åŸŸäº‹ä»¶å’Œå¾®æœåŠ¡é—´é€šä¿¡æœºåˆ¶
- Sagaäº‹åŠ¡ ï¼šæä¾›åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†çš„å…·ä½“å®ç°
- è¿ç»´ç›‘æ§ ï¼šåŒ…å«å¥åº·æ£€æŸ¥ã€æ€§èƒ½æŒ‡æ ‡ã€å®¹å™¨åŒ–é…ç½®

### ğŸ“Š ä¸¤ç§æ¶æ„å¯¹æ¯”æ€»ç»“

| ç»´åº¦ | MVCå•ä½“æ¶æ„ | DDDå¾®æœåŠ¡æ¶æ„ |
|------|-------------|---------------|
| **å¼€å‘å¤æ‚åº¦** | ä½ï¼Œå•ä¸€ä»£ç åº“ | é«˜ï¼Œå¤šæœåŠ¡åè°ƒ |
| **éƒ¨ç½²å¤æ‚åº¦** | ä½ï¼Œå•ä¸€å®¹å™¨ | é«˜ï¼Œéœ€è¦K8sç¼–æ’ |
| **æ‰©å±•æ€§** | å‚ç›´æ‰©å±•ä¸ºä¸» | æ°´å¹³æ‰©å±•ï¼Œå¼¹æ€§ä¼¸ç¼© |
| **æ•°æ®ä¸€è‡´æ€§** | æœ¬åœ°äº‹åŠ¡ | Sagaåˆ†å¸ƒå¼äº‹åŠ¡ |
| **æŠ€æœ¯æ ˆ** | Spring Boot + å•DB | Spring Cloud + å¤šDB |
| **è¿ç»´æˆæœ¬** | ä½ | é«˜ï¼Œéœ€è¦ç›‘æ§ä½“ç³» |
| **é€‚ç”¨åœºæ™¯** | ä¸­å°è§„æ¨¡ï¼Œå¿«é€Ÿè¿­ä»£ | å¤§è§„æ¨¡ï¼Œé«˜å¹¶å‘ |
| **å®æ–½å‘¨æœŸ** | 2-3å‘¨ | 4-6å‘¨ |
| **éœ€æ±‚å˜æ›´å“åº”** | âš¡ å¿«é€Ÿï¼Œå•ç‚¹ä¿®æ”¹ | ğŸ”„ å¤æ‚ï¼Œéœ€åè°ƒå¤šæœåŠ¡ |
| **ç³»ç»Ÿè®¾è®¡æ–¹ä¾¿** | ğŸ¯ ç®€å•ï¼Œç»Ÿä¸€è®¾è®¡ | ğŸ“ å¤æ‚ï¼Œéœ€é¢†åŸŸå»ºæ¨¡ |
| **æµ‹è¯•å¤æ‚åº¦** | ğŸ§ª å•å…ƒæµ‹è¯•ç®€å• | ğŸ”¬ é›†æˆæµ‹è¯•å¤æ‚ |
| **å›¢é˜Ÿåä½œ** | ğŸ‘¥ å°å›¢é˜Ÿé«˜æ•ˆ | ğŸ¢ å¤§å›¢é˜Ÿåˆ†å·¥æ˜ç¡® |
| **æŠ€æœ¯å€ºåŠ¡** | ğŸ“ˆ éšæ—¶é—´ç´¯ç§¯ | ğŸ”„ å¯é€æ­¥é‡æ„ |
| **æ•…éšœéš”ç¦»** | âŒ å•ç‚¹æ•…éšœå½±å“å¤§ | âœ… æœåŠ¡éš”ç¦»ï¼Œå½±å“å° |
| **æ€§èƒ½è°ƒä¼˜** | ğŸ¯ é›†ä¸­ä¼˜åŒ– | ğŸ” éœ€é€ä¸ªæœåŠ¡ä¼˜åŒ– |
| **æ–‡æ¡£ç»´æŠ¤** | ğŸ“š å•ä¸€æ–‡æ¡£ | ğŸ“– å¤šæœåŠ¡æ–‡æ¡£åŒæ­¥ |
| **ä¸Šçº¿å›æ»š** | âš¡ ç®€å•å¿«é€Ÿ | ğŸ”„ å¤æ‚ï¼Œéœ€åè°ƒå›æ»š |
| **å¼€å‘å·¥å…·** | ğŸ› ï¸ æ ‡å‡†IDEå³å¯ | ğŸ—ï¸ éœ€å¾®æœåŠ¡å·¥å…·é“¾ |
| **éœ€æ±‚è¿½è¸ª** | ğŸ” ä»£ç å†…è¿½è¸ª | ğŸ“Š è·¨æœåŠ¡è¿½è¸ª |
| **é‡æ„æˆæœ¬** | ğŸ’° é«˜ï¼Œå½±å“é¢å¹¿ | ğŸ’¡ ä½ï¼Œå¯é€æ­¥é‡æ„ |

#### ğŸ” éœ€æ±‚å˜æ›´å“åº”è¯¦ç»†å¯¹æ¯”

| å˜æ›´ç±»å‹ | MVCå•ä½“æ¶æ„ | DDDå¾®æœåŠ¡æ¶æ„ |
|----------|-------------|---------------|
| **æ–°å¢æ–‡æ¡£æ ¼å¼æ”¯æŒ** | ğŸ“ å•æ¨¡å—ä¿®æ”¹ï¼Œ1-2å¤© | ğŸ—ï¸ éœ€æ›´æ–°æ–‡æ¡£è§£ææœåŠ¡ï¼Œ2-3å¤© |
| **æœ¬ä½“è§„åˆ™è°ƒæ•´** | âš™ï¸ é›†ä¸­ä¿®æ”¹è§„åˆ™å¼•æ“ï¼ŒåŠå¤© | ğŸ”§ æ›´æ–°æœ¬ä½“æ˜ å°„æœåŠ¡ï¼Œéœ€æµ‹è¯•æ¥å£ï¼Œ1å¤© |
| **æ€§èƒ½ä¼˜åŒ–éœ€æ±‚** | ğŸ¯ æ•´ä½“ä¼˜åŒ–ï¼Œå½±å“æ‰€æœ‰åŠŸèƒ½ | ğŸš€ é’ˆå¯¹æ€§ä¼˜åŒ–å•ä¸ªæœåŠ¡ï¼Œé£é™©å° |
| **æ–°ä¸šåŠ¡æµç¨‹** | ğŸ“‹ éœ€ç†è§£æ•´ä¸ªç³»ç»Ÿï¼Œå¼€å‘æ…¢ | ğŸ¯ æ–°å¢å¾®æœåŠ¡ï¼Œç‹¬ç«‹å¼€å‘å¿« |
| **ç¬¬ä¸‰æ–¹é›†æˆ** | ğŸ”— é›†ä¸­é›†æˆï¼Œè€¦åˆåº¦é«˜ | ğŸ”Œ ç‹¬ç«‹æœåŠ¡é›†æˆï¼Œæ¾è€¦åˆ |

#### ğŸ¨ ç³»ç»Ÿè®¾è®¡ä¾¿åˆ©æ€§å¯¹æ¯”

| è®¾è®¡ç»´åº¦ | MVCå•ä½“æ¶æ„ | DDDå¾®æœåŠ¡æ¶æ„ |
|----------|-------------|---------------|
| **æ•°æ®åº“è®¾è®¡** | ğŸ—„ï¸ å•ä¸€æ•°æ®åº“ï¼Œè¡¨å…³è”å¤æ‚ | ğŸ—ï¸ æœåŠ¡æ•°æ®åº“ï¼Œè¾¹ç•Œæ¸…æ™° |
| **æ¥å£è®¾è®¡** | ğŸ“ å†…éƒ¨æ¥å£ï¼Œä¿®æ”¹çµæ´» | ğŸŒ APIå¥‘çº¦ï¼Œéœ€ç‰ˆæœ¬ç®¡ç† |
| **ç¼“å­˜ç­–ç•¥** | ğŸ’¾ é›†ä¸­ç¼“å­˜ï¼Œä¸€è‡´æ€§å¥½ | ğŸ”„ åˆ†å¸ƒå¼ç¼“å­˜ï¼Œç­–ç•¥å¤æ‚ |
| **å®‰å…¨è®¾è®¡** | ğŸ”’ ç»Ÿä¸€è®¤è¯ï¼Œå®ç°ç®€å• | ğŸ›¡ï¸ æœåŠ¡é—´è®¤è¯ï¼Œéœ€JWT/OAuth |
| **ç›‘æ§è®¾è®¡** | ğŸ“Š é›†ä¸­ç›‘æ§ï¼Œé…ç½®ç®€å• | ğŸ” åˆ†å¸ƒå¼è¿½è¸ªï¼Œéœ€é“¾è·¯ç›‘æ§ |
| **æ—¥å¿—è®¾è®¡** | ğŸ“ å•ä¸€æ—¥å¿—ï¼ŒæŸ¥è¯¢æ–¹ä¾¿ | ğŸ“Š æ—¥å¿—èšåˆï¼Œéœ€ELKæ ˆ |
| **é…ç½®ç®¡ç†** | âš™ï¸ å•ä¸€é…ç½®æ–‡ä»¶ | ğŸ”§ åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ |
| **éƒ¨ç½²ç­–ç•¥** | ğŸš€ ä¸€é”®éƒ¨ç½² | ğŸ¯ è“ç»¿éƒ¨ç½²ï¼Œé‡‘ä¸é›€å‘å¸ƒ |

### ğŸ¯ å®é™…è½åœ°å»ºè®®

#### ğŸ“‹ å†³ç­–çŸ©é˜µ

| ä¼ä¸šç°çŠ¶ | æ¨èæ¶æ„ | å®æ–½ç­–ç•¥ |
|----------|----------|----------|
| **åˆåˆ›å…¬å¸/å°å›¢é˜Ÿ** | MVCå•ä½“ | å¿«é€ŸéªŒè¯ï¼ŒåæœŸæ¼”è¿› |
| **ä¸­å‹ä¼ä¸š/æˆç†Ÿå›¢é˜Ÿ** | DDDå¾®æœåŠ¡ | é¢†åŸŸé©±åŠ¨ï¼Œåˆ†æ­¥å®æ–½ |
| **å¤§å‹ä¼ä¸š/å¤æ‚ä¸šåŠ¡** | DDDå¾®æœåŠ¡ | å…¨é¢å¾®æœåŠ¡åŒ– |
| **æŠ€æœ¯å€ºåŠ¡ä¸¥é‡** | MVCé‡æ„ | å…ˆå•ä½“é‡æ„ï¼Œå†æ‹†åˆ† |

#### ğŸš€ æ¼”è¿›è·¯å¾„å»ºè®®

1. **MVCèµ·æ­¥ç­–ç•¥** (0-6ä¸ªæœˆ)
   - å¿«é€Ÿå®ç°æ ¸å¿ƒåŠŸèƒ½
   - å»ºç«‹ç›‘æ§ä½“ç³»
   - ç§¯ç´¯ä¸šåŠ¡çŸ¥è¯†

2. **æ¨¡å—åŒ–å‡†å¤‡** (6-12ä¸ªæœˆ)
   - ä»£ç æ¨¡å—åŒ–
   - æ¥å£æŠ½è±¡
   - æ•°æ®è®¿é—®å±‚éš”ç¦»

3. **æœåŠ¡æ‹†åˆ†** (12-18ä¸ªæœˆ)
   - è¯†åˆ«æ‹†åˆ†è¾¹ç•Œ
   - é€æ­¥æœåŠ¡åŒ–
   - å»ºç«‹åŸºç¡€è®¾æ–½

4. **å¾®æœåŠ¡æˆç†Ÿ** (18ä¸ªæœˆ+)
   - å®Œå–„æ²»ç†ä½“ç³»
   - æ€§èƒ½ä¼˜åŒ–
   - è‡ªåŠ¨åŒ–è¿ç»´